<!DOCTYPE html>
<!-- saved from url=(0126)https://googlechrome.github.io/samples/web-bluetooth/get-characteristics.html?service=alert_notification&characteristic=0x7c80 -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<script type="text/javascript" src="./Web Bluetooth _ Get Characteristics Sample_files/three.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>	
    
	<link rel="icon" href="./Web Bluetooth _ Get Characteristics Sample_files/wrlds label_icon.png">
    <title>WRLDS / Connected products for smart companies</title>
    <script>
      // Add a global error event listener early on in the page load, to help ensure that browsers
      // which don't support specific functionality still end up displaying a meaningful message.
      window.addEventListener('error', function(error) {
        if (ChromeSamples && ChromeSamples.setStatus) {
          console.error(error);
          ChromeSamples.setStatus(error.message + ' (Your browser may not support this feature.)');
          error.preventDefault();
        }
      });
    </script>
    
<body>
<!-- <script> -->
  <!-- if('serviceWorker' in navigator) { -->
    <!-- navigator.serviceWorker.register('service-worker.js'); -->
  <!-- } -->
<!-- </script> -->

<script>
  window.addEventListener('DOMContentLoaded', function() {
    const searchParams = new URL(location).searchParams;
    const inputs = Array.from(document.querySelectorAll('input[id]'));

    inputs.forEach(input => {
      if (searchParams.has(input.id)) {
        if (input.type == 'checkbox') {
          input.checked = searchParams.get(input.id);
        } else {
          input.value = searchParams.get(input.id);
          input.blur();
        }
      }
      if (input.type == 'checkbox') {
        input.addEventListener('change', function(event) {
          const newSearchParams = new URL(location).searchParams;
          if (event.target.checked) {
            newSearchParams.set(input.id, event.target.checked);
          } else {
            newSearchParams.delete(input.id);
          }
          history.replaceState({}, '', Array.from(newSearchParams).length ?
              location.pathname + '?' + newSearchParams : location.pathname);
        });
      } else {
        input.addEventListener('input', function(event) {
          const newSearchParams = new URL(location).searchParams;
          if (event.target.value) {
            newSearchParams.set(input.id, event.target.value);
          } else {
            newSearchParams.delete(input.id);
          }
          history.replaceState({}, '', Array.from(newSearchParams).length ?
              location.pathname + '?' + newSearchParams : location.pathname);
        });
      }
    });
  });
</script>

<!-- <div class="w3-cell-row"> -->
<!-- 1 -->
<div class="w3-container w3-center">
  <img src="./Web Bluetooth _ Get Characteristics Sample_files/wrlds label_copy2.png" width="25%" height="25%" alt= "WRLDS">
</div>
<!-- 2 -->
<div class="w3-container w3-center" >
	  <form>
	  <!-- <input id="service" type="text" list="services" autofocus="" placeholder="Bluetooth Service"> -->
	  <!-- <input id="characteristic" type="text" list="characteristics" placeholder="Optional Bluetooth Characteristic"> -->
	  <!-- <button>Get characteristics</button> -->
	  
	  <label for="allDevices">All Devices</label>
	  <input id="allDevices" type="checkbox">
	  <input id="namePrefix" type="text" size="17" list="namePrefixs" placeholder="Device Name Prefix">
	  <input id="name" type="text" size="17" list="devices" placeholder="Device Name">  
	  <input id="service" type="text" size="17" list="services" placeholder="Service">
	  <input id="characteristic" type="text" size="17" list="characteristics" placeholder="Characteristics">
	  <!-- <button id="connect">Connect</button> -->
	  <input type="button" id="ConnectBtn" value="Connect" />
	  <!-- <button id="startNotifications">Start notifications</button> -->
	  <!-- <button id="stopNotifications">Stop notifications</button> -->
	</form>

	<datalist id="namePrefixs">
	  <option value="WRLDS">WRLDS</option>
	  <option value="Nordic">Nordic</option>
	  <option value="Playfinity">Playfinity</option>
	</datalist>

	<datalist id="services">
	  <option value="alert_notification">alert_notification</option>
	  <option value="battery_service">battery_service</option>
	</datalist>

	<datalist id="characteristics">
	  <option value="0x7c80">ACC</option>
	  <option value="0x7c83">Gyro</option>
	  <option value="0x7c84">Quaternion</option>
	</datalist>
</div>
<!-- 3 -->
<div class="w3-container w3-center">

	<div class="w3-row">
		<div class="w3-col w3-container" style="width:70%">
			<div id="chart"></div>
			<button onclick="openFullscreen();">Open in Fullscreen Mode</button>
			<!-- <button onclick="startSaving();">Start Saving</button> -->
			<!-- <button onclick="startSaving();">Start Saving</button> -->
			<input type="button" id="SaveBtn" value="Start Saving Data" />
			<!-- <button onclick="stopSaving();">Stop Saving</button> -->
		</div>
	
		<div class="w3-col w3-container" style="width:30%">
			<canvas id="myCanvas" width="100" height="100" style="border:1px solid #ffffff;"></canvas>
		</div> 
	</div>
</div>
<!-- 4 -->
<div class="w3-container">
	<section class="main-container">
			  <div class="myo-data">
				<ul class="w3-ul">
				  <li class="data">Accelerometer X data: <span class="accelerometer-x-data"></span></li>
				  <li class="data">Accelerometer Y data: <span class="accelerometer-y-data"></span></li>
				  <li class="data">Accelerometer Z data: <span class="accelerometer-z-data"></span></li>
				  <li class="data">Gyroscope X data: <span class="gyroscope-x-data"></span></li>
				  <li class="data">Gyroscope Y data: <span class="gyroscope-y-data"></span></li>
				  <li class="data">Gyroscope Z data: <span class="gyroscope-z-data"></span></li>
				  <li class="data">Quaternion X data: <span class="orientation-x-data"></span></li>
				  <li class="data">Quaternion Y data: <span class="orientation-y-data"></span></li>
				  <li class="data">Quaternion Z data: <span class="orientation-z-data"></span></li>
				  <li class="data">Quaternion W data: <span class="orientation-w-data"></span></li>
				</ul>
			  </div>

	  <!-- <div class="container"> -->
		<!-- <img class="pose-image" src="" alt=""> -->
	  <!-- </div> -->
	</section>
</div>
<!-- 5 -->
<div class="w3-container">
<h3>Live Output</h3>
<div id="output" class="output">
  <div id="content"></div>
  <div id="status"></div>
  <pre id="log"></pre>
</div>
</div>
<!-- </div> -->

<!-- Util -->
<script>

let block = [];
 
<!-- document.getElementById("demo").innerHTML = d.getTime(); -->
  var ChromeSamples = {
    log: function() {
	  
      var line = '\n' + Array.prototype.slice.call(arguments).map(function(argument) {
        return typeof argument === 'string' ? argument : JSON.stringify(argument);
      }).join(' ');
	  <!-- let a = []; -->
	  block.push(line);
	  <!-- console.log((block).slice(-2)); -->
	  <!-- document.querySelector('#log').textContent = (a.push(line)).slice(-10);  -->
	  <!-- a.push(value.getUint8(i).toString(16)).slice(-2); -->
	  document.querySelector('#log').textContent = ((block).slice(-10));
      <!-- document.querySelector('#log').textContent += line + '\n'; -->
	  <!-- if(document.querySelector('#log').textContent.length > 571) -->
	  <!-- { -->
		<!-- document.querySelector('#log').textContent = ''; -->
	  <!-- } -->
    },

    clearLog: function() {
      document.querySelector('#log').textContent = '';
    },

    setStatus: function(status) {
      document.querySelector('#status').textContent = status;
    },

    setContent: function(newContent) {
      var content = document.querySelector('#content');
      while(content.hasChildNodes()) {
        content.removeChild(content.lastChild);
      }
      content.appendChild(newContent);
    }
  };
</script>



<script>
  if (/Chrome\/(\d+\.\d+.\d+.\d+)/.test(navigator.userAgent)){
    // Let's log a warning if the sample is not supposed to execute on this
    // version of Chrome.
    if (50 > parseInt(RegExp.$1)) {
      ChromeSamples.setStatus('Warning! Keep in mind this sample has been tested with Chrome ' + 50 + '.');
    }
  }
</script>


<script>

function onStopButtonClick() {
  if (myCharacteristic) {
    myCharacteristic.stopNotifications()
    .then(_ => {
      log('> Notifications stopped');
      myCharacteristic.removeEventListener('characteristicvaluechanged',
          handleNotifications);
    })
    .catch(error => {
      log('Argh! ' + error);
    });
  }
}
</script>


<script>
  log = ChromeSamples.log;

  function isWebBluetoothEnabled() {
    if (navigator.bluetooth) {
      return true;
    } else {
      ChromeSamples.setStatus('Web Bluetooth API is not available.\n' +
          'Please make sure the "Experimental Web Platform features" flag is enabled.');
      return false;
    }
  }
</script>

<script>
  /* jshint ignore:start */
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-53563471-1', 'auto');
  ga('send', 'pageview');
  /* jshint ignore:end */
</script>

 
<script type="text/javascript" src="./bluetoothdata.js"></script>
<script type="text/javascript" src="./savedata.js"></script>
<script type="text/javascript" src="./plotdata.js"></script>
<script type="text/javascript" src="./threedata.js"></script>
</body>
</html>   
    
    
 